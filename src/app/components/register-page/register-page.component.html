<div class="page-content">
    <div class="title-bar">
        Mock Exam Portal
    </div>
</div>


<div class="registration-container" *ngIf="!isSuccessPage">
    <div class="registration-card">
        <h1 class="registration-title">Registration Form</h1>
        <form #regForm="ngForm" (ngSubmit)="onRegisterNow(regForm)" class="registration-form">
            <div class="row">
                <div class="col-md-4 form-group">
                    <label class="form-label">First Name :</label>
                     <input type="text" class="form-control form-input"
       [(ngModel)]="formData.firstName" name="firstName" />

<small class="text-danger" *ngIf="errors.firstName">{{ errors.firstName }}</small>

                </div>
                <div class="col-md-4 form-group">
                    <label class="form-label">Last Name :</label>
                    <input type="text" class="form-control form-input" [(ngModel)]="formData.lastName" name="lastName"
                        required />
                        <small class="text-danger" *ngIf="errors.lastName">{{ errors.lastName }}</small>
                </div>
                <div class="col-md-4 form-group">
                    <label class="form-label">Date of Birth (DOB) :</label>
                    <input type="date" class="form-control form-input" [(ngModel)]="formData.dateOfBirth" required
                        name="dateOfBirth" />
                        <small class="text-danger" *ngIf="errors.dateOfBirth">{{ errors.dateOfBirth }}</small>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 form-group">
                    <label class="form-label">Mobile No. :</label>
                    <div class="mobile-input-wrapper">
                        <input type="text" class="form-control form-input" (keypress)="numericOnly($event)"
                            [(ngModel)]="formData.mobileNo" name="mobileNo" required maxlength="10" />

                        <button type="button" class="verify-btn" (click)="onVerify()" [disabled]="isValidOtp">
                            {{ isValidOtp ? 'Verified' : 'Verify' }}
                        </button>

                    </div>
                    <p class="error-text" *ngIf="mobileError">{{ mobileError }}</p>

                </div>
                <div class="col-md-4 form-group">
                    <label class="form-label">Father Name :</label>
                    <input type="text" class="form-control form-input" [(ngModel)]="formData.fatherName"
                        name="fatherName" required />
                        <small class="text-danger" *ngIf="errors.fatherName">{{ errors.fatherName }}</small>
                </div>
                <div class="col-md-4 form-group">
                    <label class="form-label">Mother Name :</label>
                    <input type="text" class="form-control form-input" [(ngModel)]="formData.motherName"
                        name="motherName" required />
                        <small class="text-danger" *ngIf="errors.motherName">{{ errors.motherName }}</small>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 form-group">
                    <label class="form-label">Application Number :</label>
                    <input type="text" class="form-control form-input" [(ngModel)]="formData.applino"
                        name="applictnno" />
                </div>
                <div class="col-md-4 form-group">
                    <label class="form-label">HallTicket Number :</label>
                    <input type="text" class="form-control form-input" [(ngModel)]="formData.halltno"
                        name="halltktno" />
                </div>
                <div class="col-md-4 form-group">
                    <label class="form-label">Aadhar Number(optional) :</label>
                    <input type="text" class="form-control form-input" [(ngModel)]="formData.aanchor" name="aanchor" />
                </div>

            </div>



            <div class="row">
                <div class="col-md-4 form-group">
                    <label class="form-label">District :</label>

                    <select class="form-control form-input" [(ngModel)]="formData.district" name="district"
                        #district="ngModel" required>

                        <option value="">Select District</option>
                        <option *ngFor="let d of districtList" [value]="d">
                            {{ d }}
                        </option>
                    </select>

                   <small class="text-danger" *ngIf="errors.district">{{ errors.district }}</small>
                </div>

                <div class="col-md-4 form-group">
                    <label class="form-label">Village :</label>
                    <input type="text" class="form-control form-input" [(ngModel)]="formData.village" name="village" />
                </div>
                <div class="col-md-4 form-group">
                    <label class="form-label">Mandal :</label>
                    <input type="text" class="form-control form-input" [(ngModel)]="formData.mandal" name="mandal" />
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 form-group">
                    <label class="form-label">College Name :</label>
                    <input type="text" class="form-control form-input" [(ngModel)]="formData.collegeName"
                        name="collegeName" />
                </div>
                <div class="col-md-4 form-group">
                    <label class="form-label">Insta ID (optional) :</label>
                    <input type="text" class="form-control form-input" [(ngModel)]="formData.instaId" name="instaId" />
                </div>
                <div class="col-md-4 form-group">
                    <label class="form-label">Facebook (optional) :</label>
                    <input type="text" class="form-control form-input" [(ngModel)]="formData.facebook"
                        name="facebook" />
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 form-group">
                    <label class="form-label">Email (optional) :</label>
                    <input type="email" class="form-control form-input" [(ngModel)]="formData.email" name="email" />
                </div>
            </div>
            <div class="row justify-content-center align-items-center">
                <div class="col-md-12">
                    <button type="submit" class="register-now-btn">Register Now</button>

                    <div class="divider">
                        <span class="divider-text">OR</span>
                    </div>

                    <button type="button" class="login-btn" (click)="onLogin()">Login</button>
                </div>
            </div>

        </form>

    </div>
</div>

<div class="success-container" *ngIf="isSuccessPage">
    <!-- Avatar with Checkmark -->
    <div class="avatar-section" style="margin-top: -150px !important;">
        <div class="avatar">
            <img src="../../../assets/registered.png" alt="User Avatar" class="avatar-img">
            <!-- <div class="checkmark">
                <img src="assets/images/checkmark.png" alt="Checkmark" class="checkmark-img">
            </div> -->
        </div>
    </div>

    <!-- Success Heading -->
    <h1 class="success-heading">Registration successful !!</h1>

    <!-- Credentials Box -->
    <div class="credentials-box">
        <div class="credential-item">
            <span class="credential-label">Your User ID :</span>
            <span class="credential-value">{{ userCredentials.userId }}</span>
            <button class="copy-btn" title="Copy User ID">ðŸ“‹</button>
        </div>
        <div class="credential-item">
            <span class="credential-label">Password :</span>
            <span class="credential-value">{{ userCredentials.password }}</span>
            <button class="copy-btn" title="Copy Password">ðŸ“‹</button>
        </div>
    </div>

    <!-- Instruction Text -->
    <p class="instruction-text">Use these credentials to login</p>

    <!-- Login Button -->
    <button class="login-btn2" (click)="loginNow()">Login now</button>
</div>

<div id="recaptcha-container"></div>